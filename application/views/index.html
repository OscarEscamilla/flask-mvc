{% extends 'layout.html' %}

{% block body %}
<div class="row"> <h3>Contactos guardados en MySQL <i class="fas fa-database"></i></h3></div>
<div class="row">
  
    <div class="col-md-5">
        <!--mensajes de alerta-->
       
       
        {% with messages = get_flashed_messages() %} <!--guardamos en la variable messages los mensages guardados de flash-->
        {% if messages %}
            {% for message in messages%}
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                        <strong>{{message}}</strong> 
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                </div>
            {% endfor%}
        {% endif %}
        {% endwith %}
            <!--card del formulario-->
            
        <div class="card card-body">
                <form action="/add" method="POST">
                    <div class="form-group">
                        <input class="form-control " type="text" name="nombre" placeholder="nombre...">
                    </div>
                    <div class="form-group">
                        <input class="form-control " type="text" name="email" placeholder="email...">
                    </div>
                    <div class="form-group">
                        <input class="form-control " type="text" name="telefono" placeholder="telefono...">
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-block ">Save <i class="fas fa-clock"></i></button>
                    </div>
                    
                </form> 
        </div>   
    </div>
    <div class="col-md-7">
        
        <!--tabla para mostrar todos los contacto-->
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Telefono</th>
                    <th>Email</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for row in data['contactos'] %}
                <tr>
                    <td>{{row.1}}</td>
                    <td>{{row.2}}</td>
                    <td>{{row.3}}</td>
                    <td>
                        <a href="/update/{{row.0}}" class="btn btn-dark btn-sm">Edit</a>
                        <a href="/delete/{{row.0}}" class="btn btn-danger btn-delete btn-sm">Delete</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>      
        </table>
    </div>
</div>
<hr>
<div class="row"> <h3>Contactos guardados en MongoDB <i class="fas fa-database"></i></h3></div>
<div class="row">
    
    <div class="col-md-3">
        <!--mensajes de alerta-->
        {% with messages = get_flashed_messages() %} <!--guardamos en la variable messages los mensages guardados de flash-->
        {% if messages %}
            {% for message in messages%}
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                        <strong>{{message}}</strong> 
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                </div>
            {% endfor%}
        {% endif %}
        {% endwith %}
            <!--card del formulario-->
            
        <div class="card card-body">
                <form action="/add" method="POST">
                    <div class="form-group">
                        <input class="form-control " type="text" name="nombre" placeholder="nombre...">
                    </div>
                    <div class="form-group">
                        <input class="form-control " type="text" name="email" placeholder="email...">
                    </div>
                    <div class="form-group">
                        <input class="form-control " type="text" name="telefono" placeholder="telefono...">
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-block ">Save <i class="fas fa-clock"></i></button>
                    </div>
                    
                </form> 
        </div>   
    </div>
    <div class="col-md-9">
        
        <!--tabla para mostrar todos los contacto-->
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Telefono</th>
                    <th>Edad</th>
                    <th>Email</th>
                    <th>Facebook</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for row in data['amigos'] %}
                <tr>
                    <td>{{row.nombre}}</td>
                    <td>{{row.telefono}}</td>
                    <td>{{row.edad}}</td>
                    <td>{{row.correo}}</td>
                    <td>{{row.facebook}}</td>
                    <td>
                        <a href="/update/{{row._id}}" class="btn btn-dark btn-sm">Edit</a>
                        <a href="/delete/{{row._id}}" class="btn btn-danger btn-delete btn-sm">Delete</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>      
        </table>
    </div>
</div>




{% endblock %}